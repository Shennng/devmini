"use client";import Link from"next/link";import{usePathname}from"next/navigation";import{cn}from"@/lib/utils";import{Braces,Clock,Lock,Globe,FileJson,Type,Key,Search,Palette,Home}from"lucide-react";const categories=[{name:"数据格式",tools:[{href:"/json-format",label:"JSON 格式化",icon:Braces},{href:"/csv-json",label:"CSV ↔ JSON",icon:FileJson}]},{name:"编码转换",tools:[{href:"/base64",label:"Base64",icon:Lock},{href:"/url-encode",label:"URL 编码",icon:Globe}]},{name:"时间处理",tools:[{href:"/timestamp",label:"时间戳",icon:Clock}]},{name:"加密安全",tools:[{href:"/hash",label:"哈希生成",icon:FileJson},{href:"/jwt-decode",label:"JWT 解码",icon:Key}]},{name:"开发者工具",tools:[{href:"/regex",label:"正则测试",icon:Search},{href:"/base-convert",label:"进制转换",icon:Type},{href:"/color",label:"颜色转换",icon:Palette}]}];export function ToolBar({collapsed=false,className}:{collapsed?:boolean,className?:string}){const pathname=usePathname();return(<aside className={cn("fixed left-0 top-0 z-40 h-screen border-r border-border bg-background transition-all duration-300",collapsed?"w-[60px]":"w-[220px]",className)}><div className="flex h-14 items-center border-b border-border px-3"><Link href="/" className="flex items-center gap-2"><div className="flex h-8 w-8 items-center justify-center rounded bg-primary text-primary-foreground font-bold text-sm">DM</div>{!collapsed&&<span className="font-semibold text-lg">DevMini</span>}</Link></div><nav className="mt-2 h-[calc(100vh-3.5rem)] overflow-y-auto">{categories.map(c=>(<div key={c.name} className="mb-4">{!collapsed&&<div className="px-4 py-1 text-xs font-medium text-muted-foreground uppercase tracking-wider">{c.name}</div>}{c.tools.map(t=>{const Icon=t.icon;const isActive=pathname===t.href;return collapsed?<Link key={t.href} href={t.href} className={cn("flex items-center justify-center rounded-md p-2 mx-2 mb-1 text-sm font-medium transition-all",isActive?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground")}><Icon className="h-4 w-4"/></Link>:<Link key={t.href} href={t.href} className={cn("flex items-center gap-3 rounded-md px-3 py-2 mx-2 mb-1 text-sm font-medium transition-all",isActive?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground")}><Icon className="h-4 w-4 flex-shrink-0"/><span>{t.label}</span></Link>})}</div>))}</nav></aside>)}
