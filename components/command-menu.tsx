"use client";import * as React from "react";import { Search } from "lucide-react";const tools=[{name:"JSON 格式化",href:"/json-format"},{name:"时间戳转换",href:"/timestamp"},{name:"Base64 编码",href:"/base64"},{name:"URL 编码",href:"/url-encode"},{name:"哈希生成",href:"/hash"},{name:"进制转换",href:"/base-convert"}];export function CommandMenu(){const[open,setOpen]=React.useState(false);React.useEffect(()=>{const down=(e:KeyboardEvent)=>{if(e.key==="k"&&(e.metaKey||e.ctrlKey)){e.preventDefault();setOpen(o=>!o);}if(e.key==="Escape")setOpen(false);};document.addEventListener("keydown",down);return()=>document.removeEventListener("keydown",down);},[]);return(<><button onClick={()=>setOpen(true)} className="flex items-center gap-2 rounded-md border border-border bg-muted/50 px-3 py-1.5 text-sm text-muted-foreground hover:bg-muted w-full max-w-md"><Search className="h-4 w-4"/><span>搜索工具...</span><kbd className="ml-2 rounded bg-muted px-1.5 py-0.5 text-xs font-mono">⌘K</kbd></button>{open&&<div className="fixed inset-0 z-50 flex items-start justify-center pt-[20vh] bg-black/50" onClick={()=>setOpen(false)}><div className="w-full max-w-lg rounded-lg border border-border bg-background p-4"><input placeholder="搜索工具..." className="w-full border-b border-border px-4 py-3 text-sm outline-none bg-transparent"/><div className="mt-4 space-y-1">{tools.map(t=><a key={t.href} href={t.href} className="block px-4 py-2 text-sm hover:bg-muted rounded">{t.name}</a>)}</div></div></div>}</>)}
